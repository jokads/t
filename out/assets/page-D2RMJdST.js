import{j as e}from"./index-CL0DDCgk.js";import{b as c}from"./vendor-CnxkC70x.js";import{apiPost as y,apiGet as k}from"./api-D2Re7A7a.js";const w=({config:n,onSave:h,backendOnline:o})=>{const[s,l]=c.useState(n),[d,u]=c.useState(""),[g,p]=c.useState(""),[i,a]=c.useState(!1),[x,b]=c.useState(!1),N=async()=>{if(!s.botToken){alert("âš ï¸ Por favor, insira o Bot Token primeiro!");return}a(!0);try{const t=await y("/api/integrations/telegram/test",{botToken:s.botToken,chatIds:s.chatIds});t&&!t.error?alert(`âœ… Teste bem-sucedido!

Bot: ${t.botName}
Status: ${t.status}
Mensagem enviada para ${t.chatIds?.length||0} chat(s).`):alert("âŒ Teste falhou: "+(t?.error||"Erro desconhecido"))}catch(t){console.error("âŒ Erro ao testar Telegram:",t),alert("âŒ Erro ao testar. Verifique se o backend estÃ¡ ativo.")}finally{a(!1)}},j=async()=>{if(!g.trim()){alert("âš ï¸ Por favor, escreva uma mensagem primeiro!");return}if(!s.botToken||s.chatIds.length===0){alert("âš ï¸ Configure o Bot Token e adicione pelo menos 1 Chat ID!");return}b(!0);try{const t=await y("/api/integrations/telegram/send",{botToken:s.botToken,chatIds:s.chatIds,message:g});t&&!t.error?(alert(`âœ… Mensagem enviada com sucesso para ${t.sentTo||s.chatIds.length} chat(s)!`),p("")):alert("âŒ Erro ao enviar: "+(t?.error||"Erro desconhecido"))}catch(t){console.error("âŒ Erro ao enviar mensagem:",t),alert("âŒ Erro ao enviar. Verifique se o backend estÃ¡ ativo.")}finally{b(!1)}},f=()=>{if(d.trim()){if(s.chatIds.includes(d.trim())){alert("âš ï¸ Este Chat ID jÃ¡ estÃ¡ na lista!");return}l({...s,chatIds:[...s.chatIds,d.trim()]}),u("")}},r=t=>{l({...s,chatIds:s.chatIds.filter(v=>v!==t)})},m=()=>{if(s.enabled&&!s.botToken){alert("âš ï¸ Por favor, insira o Bot Token antes de ativar!");return}if(s.enabled&&s.chatIds.length===0){alert("âš ï¸ Adicione pelo menos 1 Chat ID antes de ativar!");return}h(s)};return e.jsxs("div",{className:"p-6 bg-black/40 backdrop-blur-sm rounded-xl border border-cyan-500/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-cyan-400 flex items-center gap-2",children:[e.jsx("i",{className:"ri-telegram-line"}),"Telegram Bot"]}),e.jsx("p",{className:"text-xs text-cyan-300/70 mt-1",children:"NotificaÃ§Ãµes e alertas em tempo real"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.enabled,onChange:t=>l({...s,enabled:t.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-cyan-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-500"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:[e.jsx("i",{className:"ri-key-line"})," Bot Token"]}),e.jsx("input",{type:"password",value:s.botToken,onChange:t=>l({...s,botToken:t.target.value}),placeholder:"1234567890:ABCdefGHIjklMNOpqrsTUVwxyz",className:"w-full px-4 py-2 bg-black/60 border border-cyan-500/30 rounded-lg text-cyan-100 text-sm focus:outline-none focus:border-cyan-500"}),e.jsxs("p",{className:"text-xs text-cyan-400/60 mt-1",children:["Obtenha em: ",e.jsx("a",{href:"https://t.me/BotFather",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-cyan-400",children:"@BotFather"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:[e.jsx("i",{className:"ri-chat-1-line"})," Chat IDs (",s.chatIds.length,")"]}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{type:"text",value:d,onChange:t=>u(t.target.value),onKeyPress:t=>t.key==="Enter"&&f(),placeholder:"123456789 ou @username",className:"flex-1 px-4 py-2 bg-black/60 border border-cyan-500/30 rounded-lg text-cyan-100 text-sm focus:outline-none focus:border-cyan-500"}),e.jsxs("button",{onClick:f,className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg transition-all text-sm cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-add-line"})," Adicionar"]})]}),s.chatIds.length>0?e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto custom-scrollbar",children:s.chatIds.map((t,v)=>e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-cyan-900/20 rounded-lg border border-cyan-500/20",children:[e.jsx("span",{className:"text-sm text-cyan-300 font-mono",children:t}),e.jsx("button",{onClick:()=>r(t),className:"text-red-400 hover:text-red-300 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-close-line"})})]},v))}):e.jsx("p",{className:"text-xs text-cyan-400/60 italic",children:"Nenhum Chat ID adicionado"}),e.jsxs("p",{className:"text-xs text-cyan-400/60 mt-1",children:["Para obter seu Chat ID: ",e.jsx("a",{href:"https://t.me/userinfobot",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-cyan-400",children:"@userinfobot"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:[e.jsx("i",{className:"ri-notification-line"})," NotificaÃ§Ãµes AutomÃ¡ticas"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-black/40 rounded-lg border border-cyan-500/20 cursor-pointer hover:bg-cyan-900/20 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:s.notifications.trades,onChange:t=>l({...s,notifications:{...s.notifications,trades:t.target.checked}}),className:"w-4 h-4 text-cyan-500 border-cyan-500/30 rounded focus:ring-cyan-500"}),e.jsx("span",{className:"text-sm text-cyan-300",children:"Trades"})]}),e.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-black/40 rounded-lg border border-cyan-500/20 cursor-pointer hover:bg-cyan-900/20 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:s.notifications.dailyReport,onChange:t=>l({...s,notifications:{...s.notifications,dailyReport:t.target.checked}}),className:"w-4 h-4 text-cyan-500 border-cyan-500/30 rounded focus:ring-cyan-500"}),e.jsx("span",{className:"text-sm text-cyan-300",children:"RelatÃ³rio DiÃ¡rio"})]}),e.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-black/40 rounded-lg border border-cyan-500/20 cursor-pointer hover:bg-cyan-900/20 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:s.notifications.losses,onChange:t=>l({...s,notifications:{...s.notifications,losses:t.target.checked}}),className:"w-4 h-4 text-cyan-500 border-cyan-500/30 rounded focus:ring-cyan-500"}),e.jsx("span",{className:"text-sm text-cyan-300",children:"Perdas"})]}),e.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-black/40 rounded-lg border border-cyan-500/20 cursor-pointer hover:bg-cyan-900/20 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:s.notifications.gains,onChange:t=>l({...s,notifications:{...s.notifications,gains:t.target.checked}}),className:"w-4 h-4 text-cyan-500 border-cyan-500/30 rounded focus:ring-cyan-500"}),e.jsx("span",{className:"text-sm text-cyan-300",children:"Ganhos"})]})]})]}),e.jsxs("div",{className:"mb-4 p-4 bg-cyan-900/10 rounded-lg border border-cyan-500/20",children:[e.jsxs("label",{className:"block text-sm font-medium text-cyan-300 mb-2",children:[e.jsx("i",{className:"ri-send-plane-line"})," Enviar Mensagem Teste"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:g,onChange:t=>p(t.target.value),placeholder:"Digite sua mensagem aqui...",className:"flex-1 px-4 py-2 bg-black/60 border border-cyan-500/30 rounded-lg text-cyan-100 text-sm focus:outline-none focus:border-cyan-500",onKeyPress:t=>t.key==="Enter"&&j()}),e.jsx("button",{onClick:j,disabled:!o||x,className:`px-4 py-2 rounded-lg transition-all text-sm cursor-pointer whitespace-nowrap flex items-center gap-2 ${o&&!x?"bg-cyan-600 hover:bg-cyan-500 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:x?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-send-plane-fill"}),"Enviar"]})})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:N,disabled:!o||i,className:`flex-1 py-2 rounded-lg transition-all text-sm cursor-pointer whitespace-nowrap flex items-center justify-center gap-2 ${o&&!i?"bg-cyan-900/50 hover:bg-cyan-800/50 text-cyan-300 border border-cyan-500/30":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:i?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin"}),"Testando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-test-tube-line"}),"Testar ConexÃ£o"]})}),e.jsxs("button",{onClick:m,disabled:!o,className:`flex-1 py-2 rounded-lg transition-all text-sm cursor-pointer whitespace-nowrap flex items-center justify-center gap-2 ${o?"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white shadow-lg shadow-cyan-500/30":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[e.jsx("i",{className:"ri-save-line"}),"Guardar ConfiguraÃ§Ãµes"]})]}),!o&&e.jsx("p",{className:"text-xs text-orange-400 mt-2 text-center",children:"âš ï¸ Backend offline. As configuraÃ§Ãµes nÃ£o serÃ£o guardadas."})]})},C=({config:n,onSave:h,backendOnline:o})=>{const[s,l]=c.useState(n),[d,u]=c.useState(""),[g,p]=c.useState(!1),i=[{id:"bloomberg",name:"Bloomberg",icon:"ðŸ“ˆ"},{id:"reuters",name:"Reuters",icon:"ðŸ“°"},{id:"forexlive",name:"ForexLive",icon:"ðŸ’±"},{id:"investing",name:"Investing.com",icon:"ðŸ’¼"},{id:"cnbc",name:"CNBC",icon:"ðŸ“Š"},{id:"marketwatch",name:"MarketWatch",icon:"ðŸ”"}],a=async()=>{if(!s.apiKey){alert("âš ï¸ Por favor, insira a API Key primeiro!");return}p(!0);try{const r=await y("/api/integrations/newsapi/test",{apiKey:s.apiKey,sources:s.sources});r&&!r.error?alert(`âœ… Teste bem-sucedido!

NotÃ­cias encontradas: ${r.newsCount||0}
Ãšltima atualizaÃ§Ã£o: ${r.lastUpdate||"N/A"}
Status: ${r.status}`):alert("âŒ Teste falhou: "+(r?.error||"Erro desconhecido"))}catch(r){console.error("âŒ Erro ao testar News API:",r),alert("âŒ Erro ao testar. Verifique se o backend estÃ¡ ativo.")}finally{p(!1)}},x=r=>{s.sources.includes(r)?l({...s,sources:s.sources.filter(m=>m!==r)}):l({...s,sources:[...s.sources,r]})},b=()=>{if(d.trim()){if(s.sources.includes(d.trim())){alert("âš ï¸ Esta fonte jÃ¡ estÃ¡ na lista!");return}l({...s,sources:[...s.sources,d.trim()]}),u("")}},N=r=>{i.find(m=>m.id===r)||l({...s,sources:s.sources.filter(m=>m!==r)})},j=()=>{if(s.enabled&&!s.apiKey){alert("âš ï¸ Por favor, insira a API Key antes de ativar!");return}if(s.enabled&&s.sources.length===0){alert("âš ï¸ Selecione pelo menos 1 fonte de notÃ­cias!");return}h(s)},f=s.sources.filter(r=>!i.find(m=>m.id===r));return e.jsxs("div",{className:"p-6 bg-black/40 backdrop-blur-sm rounded-xl border border-green-500/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-green-400 flex items-center gap-2",children:[e.jsx("i",{className:"ri-newspaper-line"}),"News API"]}),e.jsx("p",{className:"text-xs text-green-300/70 mt-1",children:"AnÃ¡lise de notÃ­cias em tempo real"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.enabled,onChange:r=>l({...s,enabled:r.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-green-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-green-300 mb-2",children:[e.jsx("i",{className:"ri-key-line"})," API Key"]}),e.jsx("input",{type:"password",value:s.apiKey,onChange:r=>l({...s,apiKey:r.target.value}),placeholder:"a1b2c3d4e5f6g7h8i9j0",className:"w-full px-4 py-2 bg-black/60 border border-green-500/30 rounded-lg text-green-100 text-sm focus:outline-none focus:border-green-500"}),e.jsxs("p",{className:"text-xs text-green-400/60 mt-1",children:["Obtenha gratuitamente em: ",e.jsx("a",{href:"https://newsapi.org/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-green-400",children:"NewsAPI.org"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-green-300 mb-2",children:[e.jsx("i",{className:"ri-file-list-line"})," Fontes de NotÃ­cias (",s.sources.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:i.map(r=>e.jsxs("label",{className:`flex items-center gap-2 px-3 py-2 rounded-lg border cursor-pointer transition-all ${s.sources.includes(r.id)?"bg-green-900/30 border-green-500/50 hover:bg-green-800/30":"bg-black/40 border-green-500/20 hover:bg-green-900/20"}`,children:[e.jsx("input",{type:"checkbox",checked:s.sources.includes(r.id),onChange:()=>x(r.id),className:"w-4 h-4 text-green-500 border-green-500/30 rounded focus:ring-green-500"}),e.jsx("span",{className:"text-lg",children:r.icon}),e.jsx("span",{className:"text-sm text-green-300",children:r.name})]},r.id))}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{type:"text",value:d,onChange:r=>u(r.target.value),onKeyPress:r=>r.key==="Enter"&&b(),placeholder:"Adicionar fonte customizada...",className:"flex-1 px-4 py-2 bg-black/60 border border-green-500/30 rounded-lg text-green-100 text-sm focus:outline-none focus:border-green-500"}),e.jsxs("button",{onClick:b,className:"px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-all text-sm cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-add-line"})," Adicionar"]})]}),f.length>0&&e.jsx("div",{className:"space-y-1 max-h-24 overflow-y-auto custom-scrollbar",children:f.map((r,m)=>e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-green-900/20 rounded-lg border border-green-500/20",children:[e.jsx("span",{className:"text-sm text-green-300 font-mono",children:r}),e.jsx("button",{onClick:()=>N(r),className:"text-red-400 hover:text-red-300 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-close-line"})})]},m))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-green-300 mb-2",children:[e.jsx("i",{className:"ri-time-line"})," Intervalo de AtualizaÃ§Ã£o: ",s.updateInterval,"s"]}),e.jsx("input",{type:"range",min:"60",max:"3600",step:"60",value:s.updateInterval,onChange:r=>l({...s,updateInterval:parseInt(r.target.value)}),className:"w-full h-2 bg-green-900/30 rounded-lg appearance-none cursor-pointer slider-green"}),e.jsxs("div",{className:"flex justify-between text-xs text-green-400/60 mt-1",children:[e.jsx("span",{children:"1 min"}),e.jsxs("span",{children:[Math.floor(s.updateInterval/60)," min"]}),e.jsx("span",{children:"60 min"})]})]}),e.jsx("div",{className:"mb-4 p-3 bg-green-900/10 rounded-lg border border-green-500/20",children:e.jsxs("p",{className:"text-xs text-green-400 flex items-start gap-2",children:[e.jsx("i",{className:"ri-information-line text-lg"}),e.jsxs("span",{children:["O sistema vai analisar notÃ­cias das fontes selecionadas a cada ",e.jsxs("strong",{children:[Math.floor(s.updateInterval/60)," minutos"]})," e usar IA para detectar impactos no mercado."]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:a,disabled:!o||g,className:`flex-1 py-2 rounded-lg transition-all text-sm cursor-pointer whitespace-nowrap flex items-center justify-center gap-2 ${o&&!g?"bg-green-900/50 hover:bg-green-800/50 text-green-300 border border-green-500/30":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:g?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin"}),"Testando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-test-tube-line"}),"Testar API"]})}),e.jsxs("button",{onClick:j,disabled:!o,className:`flex-1 py-2 rounded-lg transition-all text-sm cursor-pointer whitespace-nowrap flex items-center justify-center gap-2 ${o?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white shadow-lg shadow-green-500/30":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:[e.jsx("i",{className:"ri-save-line"}),"Guardar ConfiguraÃ§Ãµes"]})]}),!o&&e.jsx("p",{className:"text-xs text-orange-400 mt-2 text-center",children:"âš ï¸ Backend offline. As configuraÃ§Ãµes nÃ£o serÃ£o guardadas."})]})},S=()=>{const[n,h]=c.useState(null),[o,s]=c.useState({telegram:{enabled:!1,botToken:"",chatIds:[],notifications:{trades:!0,dailyReport:!0,losses:!0,gains:!0}},newsApi:{enabled:!1,apiKey:"",sources:["bloomberg","reuters","forexlive"],updateInterval:300}}),[l,d]=c.useState(!0),u=async()=>{try{const a=await k("/api/environment/status");a&&!a.error&&h(a)}catch(a){console.error("âŒ Erro ao carregar status do ambiente:",a)}},g=async()=>{try{const a=await k("/api/integrations/config");a&&!a.error&&s(a)}catch(a){console.error("âŒ Erro ao carregar configuraÃ§Ãµes:",a)}finally{d(!1)}},p=async a=>{try{const x=await y("/api/integrations/config",a);x&&!x.error?(s(a),alert("âœ… ConfiguraÃ§Ãµes guardadas com sucesso!")):alert("âŒ Erro ao guardar configuraÃ§Ãµes: "+(x?.error||"Erro desconhecido"))}catch(x){console.error("âŒ Erro ao guardar configuraÃ§Ãµes:",x),alert("âŒ Erro ao guardar configuraÃ§Ãµes. Backend pode estar offline.")}};c.useEffect(()=>{u(),g();const a=setInterval(()=>{u()},1e4);return()=>clearInterval(a)},[]);const i=n?.backend?.status==="online";return e.jsxs("div",{className:"space-y-6 animate-slide-up",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold gradient-text flex items-center gap-3",children:[e.jsx("i",{className:"ri-links-line"}),"IntegraÃ§Ãµes"]}),e.jsx("p",{className:"text-purple-300 mt-2",children:"Configure Telegram, News API e automaÃ§Ã£o inteligente"})]}),e.jsxs("button",{onClick:g,className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-all flex items-center gap-2 cursor-pointer",children:[e.jsx("i",{className:"ri-refresh-line"}),"Atualizar"]})]}),e.jsxs("div",{className:"p-6 bg-black/40 backdrop-blur-sm rounded-xl border border-orange-500/20",children:[e.jsxs("h2",{className:"text-lg font-bold text-orange-400 mb-4 flex items-center gap-2",children:[e.jsx("i",{className:"ri-server-line"}),"Estado do Ambiente em Tempo Real"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-900/40 to-emerald-900/40 rounded-lg border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-green-300 font-medium",children:"Frontend React"}),e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"})]}),e.jsx("p",{className:"text-xs text-green-400 font-bold",children:"ONLINE"}),e.jsx("p",{className:"text-xs text-green-300/70 mt-1",children:"Dashboard Ativo"})]}),e.jsxs("div",{className:`p-4 rounded-lg border ${i?"bg-gradient-to-br from-green-900/40 to-emerald-900/40 border-green-500/30":"bg-gradient-to-br from-red-900/40 to-pink-900/40 border-red-500/30"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-green-300 font-medium",children:"Backend API"}),e.jsx("div",{className:`w-3 h-3 rounded-full ${i?"bg-green-400 animate-pulse":"bg-red-400"}`})]}),e.jsx("p",{className:`text-xs font-bold ${i?"text-green-400":"text-red-400"}`,children:i?"ONLINE":"OFFLINE"}),e.jsx("p",{className:"text-xs text-green-300/70 mt-1",children:i?`Porta ${n?.backend?.port||5e3}`:"Execute o backend"})]}),e.jsxs("div",{className:`p-4 rounded-lg border ${n?.pythonCore?.status==="active"?"bg-gradient-to-br from-green-900/40 to-emerald-900/40 border-green-500/30":"bg-gradient-to-br from-gray-900/40 to-slate-900/40 border-gray-500/30"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-green-300 font-medium",children:"Python Core"}),e.jsx("div",{className:`w-3 h-3 rounded-full ${n?.pythonCore?.status==="active"?"bg-green-400 animate-pulse":"bg-gray-400"}`})]}),e.jsx("p",{className:`text-xs font-bold ${n?.pythonCore?.status==="active"?"text-green-400":"text-gray-400"}`,children:n?.pythonCore?.status==="active"?"ATIVO":"OFFLINE"}),e.jsx("p",{className:"text-xs text-green-300/70 mt-1",children:n?.pythonCore?.pid?`PID ${n.pythonCore.pid}`:"trading_bot_core.py"})]}),e.jsxs("div",{className:`p-4 rounded-lg border ${n?.mt5Socket?.status==="connected"?"bg-gradient-to-br from-green-900/40 to-emerald-900/40 border-green-500/30":"bg-gradient-to-br from-gray-900/40 to-slate-900/40 border-gray-500/30"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-green-300 font-medium",children:"MT5 Socket"}),e.jsx("div",{className:`w-3 h-3 rounded-full ${n?.mt5Socket?.status==="connected"?"bg-green-400 animate-pulse":"bg-gray-400"}`})]}),e.jsx("p",{className:`text-xs font-bold ${n?.mt5Socket?.status==="connected"?"text-green-400":"text-gray-400"}`,children:n?.mt5Socket?.status==="connected"?"CONECTADO":"OFFLINE"}),e.jsx("p",{className:"text-xs text-green-300/70 mt-1",children:n?.mt5Socket?.port?`Porta ${n.mt5Socket.port}`:"Aguardando"})]})]}),n&&e.jsx("div",{className:"mt-4 pt-4 border-t border-orange-500/20",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-purple-300",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"ri-folder-line text-orange-400"}),"Base: ",n.basePath]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"ri-folder-open-line text-orange-400"}),"Models: ",n.modelsPath]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("i",{className:"ri-robot-line text-orange-400"}),n.aiModelsCount," modelos IA"]})]})})]}),!i&&e.jsx("div",{className:"p-6 bg-gradient-to-r from-orange-900/40 to-red-900/40 rounded-xl border border-orange-500/30",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("i",{className:"ri-information-line text-3xl text-orange-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-orange-400 mb-2",children:"Modo Fallback Ativo"}),e.jsx("p",{className:"text-sm text-orange-300 mb-3",children:"Backend offline. As configuraÃ§Ãµes podem nÃ£o ser carregadas ou guardadas corretamente."}),e.jsx("p",{className:"text-xs text-orange-400 mb-2 font-mono",children:"Para ativar as integraÃ§Ãµes localmente, execute:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-orange-300 font-mono bg-black/30 px-3 py-2 rounded",children:"python -m backend.dashboard_server"}),e.jsx("p",{className:"text-xs text-orange-300 font-mono bg-black/30 px-3 py-2 rounded",children:"python trading_bot_core.py"})]})]}),e.jsx("button",{onClick:u,className:"px-4 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-all text-sm cursor-pointer whitespace-nowrap",children:"Verificar Novamente"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(w,{config:o.telegram,onSave:a=>p({...o,telegram:a}),backendOnline:i}),e.jsx(C,{config:o.newsApi,onSave:a=>p({...o,newsApi:a}),backendOnline:i})]})]})};export{S as default};
