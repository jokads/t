import{j as e}from"./index-CL0DDCgk.js";import{b as n}from"./vendor-CnxkC70x.js";import{checkBackendHealth as D,apiGet as k,apiPost as q}from"./api-D2Re7A7a.js";function H(){const[i,g]=n.useState(""),[b,h]=n.useState([]),[x,m]=n.useState(null),[f,j]=n.useState(""),[a,l]=n.useState(!1),[d,p]=n.useState(!1),[w,$]=n.useState(!1),[u,C]=n.useState({frontend:!0,backend:!1,bot:!1,mt5Socket:!1,basePath:"C:/bot-mt5"}),[y,G]=n.useState(null),[c,E]=n.useState("checking"),[B,F]=n.useState([]),[I,J]=n.useState(!0),o=t=>{const s=new Date().toLocaleTimeString("pt-PT");F(r=>[`[${s}] ${t}`,...r].slice(0,50))},A=async()=>{console.log("ğŸ” Verificando backend..."),E("checking");try{if(await D()){E("connected"),o("âœ… Backend conectado - Carregando dados...");try{const s=await k("/api/health");s&&!s.error&&C(r=>({...r,backend:!0,bot:s.bot_connected||!1,mt5Socket:s.mt5_socket_connected||!1}))}catch{console.log("âš ï¸ Erro ao obter health data")}try{const s=await k("/api/diagnostics/project_info");if(s&&!s.error){const r=s.base_path||s.project_root||"C:/bot-mt5";C(v=>({...v,basePath:r})),o(`ğŸ“‚ Base path detectado: ${r}`)}}catch{console.log("âš ï¸ Erro ao obter project info")}await Promise.all([N(""),P()]),o("ğŸŸ¢ Sistema completamente carregado")}else E("offline"),C(s=>({...s,backend:!1})),o("âšª Backend offline - Execute python trading_bot_core.py")}catch(t){console.error("âŒ Erro ao verificar backend:",t),E("offline"),C(s=>({...s,backend:!1})),o("âŒ Erro ao conectar ao backend")}},P=async()=>{try{const t=await k("/api/files/stats");if(t&&!t.error){const s=t.data?.stats||t.stats||t;s&&s.total_files!==void 0&&(G(s),o(`ğŸ“Š Stats: ${s.total_files} ficheiros, ${s.total_folders} pastas`))}}catch{console.log("âš ï¸ Stats endpoint nÃ£o disponÃ­vel")}},N=async(t="")=>{if(c!=="connected"){console.log("âš ï¸ Backend nÃ£o conectado, aguardando...");return}p(!0);try{const s=await k(`/api/files/list?path=${encodeURIComponent(t)}`);if(typeof s=="string"&&s.includes("<!doctype html>"))throw new Error("Endpoint nÃ£o disponÃ­vel (404)");if(s&&s.error)throw new Error(s.error);let r=[];Array.isArray(s)?r=s:s.data&&Array.isArray(s.data)?r=s.data:s.files&&Array.isArray(s.files)&&(r=s.files),h(r),g(t),o(`ğŸ“‚ ${r.length} ficheiros carregados em: ${t||"/"}`),console.log(`âœ… ${r.length} ficheiros carregados em: ${t||"/"}`)}catch(s){console.error("âŒ Erro ao carregar ficheiros:",s),o(`âŒ Erro ao carregar ficheiros: ${s instanceof Error?s.message:"Desconhecido"}`),h([])}finally{p(!1)}},O=async t=>{if(c!=="connected"){o("âŒ Backend offline - NÃ£o Ã© possÃ­vel ler ficheiro");return}p(!0),o(`ğŸ” Carregando: ${t.split("/").pop()}`);try{const s=await k(`/api/files/read?path=${encodeURIComponent(t)}`);if(typeof s=="string"&&s.includes("<!doctype html>"))throw new Error("Endpoint de leitura nÃ£o disponÃ­vel");if(s&&s.error)throw new Error(s.error);const r=s.data||s,v=r.content!==void 0?r.content:"";j(v),m(t),l(!0);const U=v.split(`
`).length,T=v.length;o(`âœ… Ficheiro carregado: ${U} linhas, ${T} caracteres`),console.log(`âœ… Ficheiro carregado: ${t} (${T} bytes)`)}catch(s){console.error("âŒ Erro ao ler ficheiro:",s),o(`âŒ Erro ao ler: ${s instanceof Error?s.message:"Desconhecido"}`),j(`// Erro ao carregar ficheiro
// ${s instanceof Error?s.message:"Desconhecido"}`),m(t),l(!0)}finally{p(!1)}},z=async()=>{if(!x||c!=="connected"){o("âŒ NÃ£o Ã© possÃ­vel guardar - Backend offline");return}$(!0),o(`ğŸ’¾ Guardando: ${x.split("/").pop()}`);try{const t=await q("/api/files/write",{path:x,content:f});if(typeof t=="string"&&t.includes("<!doctype html>"))throw new Error("Endpoint de escrita nÃ£o disponÃ­vel");if(t&&t.error)throw new Error(t.error);const s=t.data||t;if(s&&s.success){const r=s.backup_created?" (backup criado)":"";o(`âœ… Ficheiro guardado com sucesso${r}`),await N(i)}else throw new Error("Erro ao guardar")}catch(t){console.error("âŒ Erro ao guardar:",t),o(`âŒ Erro ao guardar: ${t instanceof Error?t.message:"Desconhecido"}`)}finally{$(!1)}},S=t=>{t.type==="folder"?(o(`ğŸ“‚ Navegando para: ${t.name}`),N(t.path)):O(t.path)},L=()=>{const t=i.split("/").filter(Boolean);t.pop();const s=t.join("/");o(`â¬…ï¸ Voltando para: ${s||"/"}`),N(s)},_=()=>{o("ğŸ  Voltando para raiz"),N("")},M=()=>{l(!1),m(null),j(""),o("âœ–ï¸ Editor fechado")},V=t=>t?t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(2)} KB`:t<1024*1024*1024?`${(t/(1024*1024)).toFixed(2)} MB`:`${(t/(1024*1024*1024)).toFixed(2)} GB`:"-",R=t=>new Date(t).toLocaleString("pt-PT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return n.useEffect(()=>{o("ğŸš€ Gestor de Ficheiros iniciado"),A()},[]),n.useEffect(()=>{if(c==="connected"&&I){const t=setInterval(()=>{o("ğŸ”„ Auto-refresh de estatÃ­sticas..."),P()},3e4);return()=>clearInterval(t)}},[c,I]),e.jsxs("div",{className:"space-y-6",children:[c==="checking"&&e.jsx("div",{className:"bg-gradient-to-r from-yellow-900/40 to-orange-900/40 backdrop-blur-xl border border-yellow-500/40 rounded-2xl p-6 shadow-2xl",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-3xl text-yellow-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"â³ Verificando Sistema..."}),e.jsx("p",{className:"text-yellow-300 text-sm",children:"Conectando ao backend e escaneando ambiente"})]})]})}),c==="offline"&&e.jsx("div",{className:"bg-gradient-to-r from-red-900/40 to-orange-900/40 backdrop-blur-xl border border-red-500/40 rounded-2xl p-6 shadow-2xl",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-red-500/20 rounded-xl flex-shrink-0",children:e.jsx("i",{className:"ri-alert-line text-2xl text-red-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"âœ… Sistema Preparado para Acesso Completo"}),e.jsx("p",{className:"text-red-300 text-sm mb-4",children:"Execute python trading_bot_core.py para conectar dados ao vivo"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsxs("span",{className:"px-3 py-1 bg-purple-500/20 border border-purple-500/30 rounded-full text-purple-300 text-xs",children:["ğŸ“‚ Base: ",u.basePath]}),e.jsx("span",{className:"px-3 py-1 bg-cyan-500/20 border border-cyan-500/30 rounded-full text-cyan-300 text-xs",children:"ğŸ¤– 6 modelos IA prontos"}),e.jsx("span",{className:"px-3 py-1 bg-orange-500/20 border border-orange-500/30 rounded-full text-orange-300 text-xs",children:"ğŸ“Š EstratÃ©gias disponÃ­veis"})]}),e.jsxs("button",{onClick:A,className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-semibold rounded-lg transition-all cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-refresh-line mr-2"}),"Verificar"]})]})]})}),c==="connected"&&e.jsxs("div",{className:"bg-gradient-to-r from-green-900/40 to-emerald-900/40 backdrop-blur-xl border border-green-500/40 rounded-2xl p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"ğŸŸ¢ Sistema Completamente Conectado"}),e.jsx("p",{className:"text-green-300 text-sm",children:"Backend ativo â€¢ Dados em tempo real â€¢ Acesso total aos ficheiros"})]})]}),e.jsxs("button",{onClick:A,className:"px-3 py-1.5 bg-green-500/20 hover:bg-green-500/30 border border-green-500/30 text-green-300 rounded-lg text-xs transition-all cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-refresh-line mr-1"}),"Atualizar"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[e.jsxs("span",{className:"px-3 py-1 bg-green-500/20 border border-green-500/30 rounded-full text-green-300 text-xs",children:["âœ… Trading Bot Core: ",u.bot?"ATIVO":"OFFLINE"]}),e.jsx("span",{className:"px-3 py-1 bg-green-500/20 border border-green-500/30 rounded-full text-green-300 text-xs",children:"âœ… Dashboard Server: ONLINE"}),y&&e.jsxs("span",{className:"px-3 py-1 bg-cyan-500/20 border border-cyan-500/30 rounded-full text-cyan-300 text-xs",children:["ğŸ¤– ",y.total_files," ficheiros detectados"]}),e.jsx("span",{className:"px-3 py-1 bg-purple-500/20 border border-purple-500/30 rounded-full text-purple-300 text-xs",children:"ğŸ”„ AtualizaÃ§Ã£o: 30s"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-900/40 to-red-900/40 backdrop-blur-xl border border-orange-500/20 rounded-2xl p-4 shadow-2xl hover:scale-105 transition-transform",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${u.frontend?"bg-green-400 animate-pulse":"bg-red-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-purple-300",children:"Frontend"}),e.jsx("p",{className:"text-sm font-bold text-white mt-0.5",children:"React Dashboard"}),e.jsx("span",{className:`inline-block mt-2 px-2 py-0.5 rounded-full text-xs ${u.frontend?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:u.frontend?"ATIVO":"OFFLINE"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-900/40 to-red-900/40 backdrop-blur-xl border border-orange-500/20 rounded-2xl p-4 shadow-2xl hover:scale-105 transition-transform",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${c==="connected"?"bg-green-400 animate-pulse":"bg-red-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-purple-300",children:"Backend API"}),e.jsx("p",{className:"text-sm font-bold text-white mt-0.5",children:"dashboard_server.py"}),e.jsx("span",{className:`inline-block mt-2 px-2 py-0.5 rounded-full text-xs ${c==="connected"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:c==="connected"?"CONECTADO":c==="checking"?"VERIFICANDO...":"OFFLINE"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-900/40 to-red-900/40 backdrop-blur-xl border border-orange-500/20 rounded-2xl p-4 shadow-2xl hover:scale-105 transition-transform",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${u.bot?"bg-green-400 animate-pulse":"bg-red-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-purple-300",children:"Python Core"}),e.jsx("p",{className:"text-sm font-bold text-white mt-0.5",children:"trading_bot_core.py"}),e.jsx("span",{className:`inline-block mt-2 px-2 py-0.5 rounded-full text-xs ${u.bot?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:u.bot?"ATIVO":"PREPARADO"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-900/40 to-red-900/40 backdrop-blur-xl border border-orange-500/20 rounded-2xl p-4 shadow-2xl hover:scale-105 transition-transform",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${u.mt5Socket?"bg-green-400 animate-pulse":"bg-slate-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-purple-300",children:"MT5 Socket"}),e.jsx("p",{className:"text-sm font-bold text-white mt-0.5",children:"Porta 9090"}),e.jsx("span",{className:`inline-block mt-2 px-2 py-0.5 rounded-full text-xs ${u.mt5Socket?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:u.mt5Socket?"CONECTADO":"AGUARDANDO"})]})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 to-red-900/40 backdrop-blur-xl border border-orange-500/20 rounded-2xl overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-purple-500/20",children:[e.jsxs("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[e.jsx("i",{className:"ri-terminal-box-line text-orange-400"}),"Logs do Sistema"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${c==="connected"?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:c==="connected"?"ğŸŸ¢ LIVE":"âšª OFFLINE"}),e.jsx("button",{onClick:()=>F([]),className:"px-2 py-1 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 text-red-400 rounded text-xs transition-all cursor-pointer",children:"Limpar"})]})]}),e.jsx("div",{className:"p-4 bg-black/40 h-32 overflow-y-auto custom-scrollbar font-mono text-xs text-green-400",children:B.length===0?e.jsx("p",{className:"text-purple-400",children:"Aguardando atividade..."}):B.map((t,s)=>e.jsx("div",{className:"mb-1",children:t},s))})]}),c==="connected"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("button",{onClick:_,className:"px-3 py-1.5 bg-purple-800/50 hover:bg-purple-700/50 text-orange-400 rounded-lg transition-all cursor-pointer flex items-center gap-1",children:[e.jsx("i",{className:"ri-folder-line"}),e.jsx("span",{children:"bot-mt5"})]}),i.split("/").filter(Boolean).map((t,s,r)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"ri-arrow-right-s-line text-purple-400"}),e.jsx("button",{onClick:()=>{const v=r.slice(0,s+1).join("/");N(v)},className:"px-3 py-1.5 bg-purple-800/50 hover:bg-purple-700/50 text-orange-400 rounded-lg transition-all cursor-pointer",children:t})]},s))]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i&&e.jsxs("button",{onClick:L,className:"px-4 py-2 bg-purple-800/50 hover:bg-purple-700/50 text-purple-200 rounded-lg transition-all cursor-pointer whitespace-nowrap flex items-center gap-2",children:[e.jsx("i",{className:"ri-arrow-left-line"}),e.jsx("span",{children:"Voltar"})]}),e.jsxs("button",{onClick:_,disabled:!i,className:"px-4 py-2 bg-purple-800/50 hover:bg-purple-700/50 text-purple-200 rounded-lg transition-all cursor-pointer whitespace-nowrap flex items-center gap-2 disabled:opacity-50",children:[e.jsx("i",{className:"ri-home-line"}),e.jsx("span",{children:"Raiz"})]}),e.jsxs("button",{onClick:()=>N(i),disabled:d,className:"px-4 py-2 bg-purple-800/50 hover:bg-purple-700/50 text-purple-200 rounded-lg transition-all cursor-pointer whitespace-nowrap flex items-center gap-2 disabled:opacity-50",children:[e.jsx("i",{className:`${d?"ri-loader-4-line animate-spin":"ri-refresh-line"}`}),e.jsx("span",{children:d?"Carregando...":"Atualizar"})]}),e.jsx("div",{className:"flex-1"}),y&&e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"text-purple-300",children:[e.jsx("i",{className:"ri-file-line mr-1 text-cyan-400"}),b.length," itens"]}),e.jsxs("span",{className:"text-purple-300",children:[e.jsx("i",{className:"ri-folder-line mr-1 text-orange-400"}),y.total_folders," pastas"]}),e.jsxs("span",{className:"text-purple-300",children:[e.jsx("i",{className:"ri-database-2-line mr-1 text-green-400"}),y.total_size_mb.toFixed(2)," MB"]})]})]}),e.jsx("div",{className:"bg-gradient-to-br from-purple-900/40 to-red-900/40 backdrop-blur-xl border border-orange-500/20 rounded-2xl overflow-hidden shadow-2xl",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-purple-500/20",children:[e.jsx("th",{className:"py-3 pl-6 text-left text-xs font-semibold text-purple-300 uppercase tracking-wider",children:"Nome"}),e.jsx("th",{className:"py-3 text-left text-xs font-semibold text-purple-300 uppercase tracking-wider",children:"Tipo"}),e.jsx("th",{className:"py-3 text-left text-xs font-semibold text-purple-300 uppercase tracking-wider",children:"Tamanho"}),e.jsx("th",{className:"py-3 text-left text-xs font-semibold text-purple-300 uppercase tracking-wider",children:"Modificado"}),e.jsx("th",{className:"py-3 pr-6 text-right text-xs font-semibold text-purple-300 uppercase tracking-wider",children:"AÃ§Ãµes"})]})}),e.jsx("tbody",{children:d?e.jsx("tr",{children:e.jsxs("td",{colSpan:5,className:"py-12 text-center",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin text-3xl text-orange-400"}),e.jsx("p",{className:"text-purple-300 text-sm mt-2",children:"A carregar ficheiros..."})]})}):b.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:5,className:"py-12 text-center text-purple-300",children:[e.jsx("i",{className:"ri-folder-open-line text-4xl text-purple-400 mb-2"}),e.jsx("p",{className:"text-sm",children:"Pasta vazia ou sem permissÃµes"})]})}):b.map((t,s)=>e.jsxs("tr",{className:`border-b border-purple-500/10 hover:bg-purple-900/20 transition-all cursor-pointer ${x===t.path?"bg-orange-500/10":""}`,onClick:()=>S(t),children:[e.jsx("td",{className:"py-3 pl-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-lg ${t.type==="folder"?"bg-orange-500/20":"bg-cyan-500/20"}`,children:e.jsx("i",{className:`${t.type==="folder"?"ri-folder-fill text-orange-400":"ri-file-code-line text-cyan-400"} text-xl`})}),e.jsx("span",{className:"text-sm text-white font-medium",children:t.name})]})}),e.jsx("td",{className:"py-3",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.type==="folder"?"bg-orange-500/20 text-orange-400":"bg-cyan-500/20 text-cyan-400"}`,children:t.type==="folder"?"Pasta":"Ficheiro"})}),e.jsx("td",{className:"py-3 text-sm text-purple-300",children:V(t.size)}),e.jsx("td",{className:"py-3 text-sm text-purple-300",children:R(t.modified)}),e.jsx("td",{className:"py-3 pr-6",children:e.jsx("div",{className:"flex items-center justify-end gap-2",children:t.type==="folder"?e.jsxs("button",{onClick:r=>{r.stopPropagation(),S(t)},className:"px-3 py-1.5 bg-orange-500/20 hover:bg-orange-500/30 border border-orange-500/30 text-orange-400 rounded-lg transition-all cursor-pointer text-xs font-medium whitespace-nowrap",title:"Abrir pasta",children:[e.jsx("i",{className:"ri-folder-open-line mr-1"}),"Abrir"]}):e.jsxs("button",{onClick:r=>{r.stopPropagation(),S(t)},className:"px-3 py-1.5 bg-cyan-500/20 hover:bg-cyan-500/30 border border-cyan-500/30 text-cyan-400 rounded-lg transition-all cursor-pointer text-xs font-medium whitespace-nowrap",title:"Ver cÃ³digo",children:[e.jsx("i",{className:"ri-eye-line mr-1"}),"Ver CÃ³digo"]})})})]},s))})]})})})]}),a&&e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/40 to-red-900/40 backdrop-blur-xl border border-orange-500/20 rounded-2xl overflow-hidden shadow-2xl animate-slide-up",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-purple-500/20 bg-black/40",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[e.jsx("i",{className:"ri-file-code-line text-cyan-400"}),x?.split("/").pop()]}),e.jsx("p",{className:"text-xs text-purple-400 mt-1 font-mono",children:x})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:z,disabled:w||c!=="connected",className:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-semibold rounded-lg transition-all cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[e.jsx("i",{className:`${w?"ri-loader-4-line animate-spin":"ri-save-line"}`}),e.jsx("span",{children:w?"Guardando...":"Guardar"})]}),e.jsxs("button",{onClick:M,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 text-red-400 rounded-lg transition-all cursor-pointer whitespace-nowrap flex items-center gap-2",children:[e.jsx("i",{className:"ri-close-line"}),e.jsx("span",{children:"Fechar"})]})]})]}),e.jsxs("div",{className:"p-4 bg-black/40",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-xs text-purple-400",children:[e.jsxs("span",{children:[e.jsx("i",{className:"ri-file-text-line mr-1 text-cyan-400"}),f.split(`
`).length," linhas"]}),e.jsxs("span",{children:[e.jsx("i",{className:"ri-text mr-1 text-orange-400"}),f.length," caracteres"]})]}),c==="connected"&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-400",children:[e.jsx("i",{className:"ri-shield-check-line"}),e.jsx("span",{children:"Backup automÃ¡tico ao guardar"})]})]}),e.jsx("textarea",{value:f,onChange:t=>j(t.target.value),className:"w-full h-[500px] bg-black/60 border border-purple-500/20 rounded-lg p-4 text-sm text-green-400 font-mono focus:outline-none focus:border-orange-500/40 resize-none custom-scrollbar",spellCheck:!1,disabled:c!=="connected",placeholder:"// ConteÃºdo do ficheiro aparecerÃ¡ aqui..."})]})]})]})}function Q(){const[i,g]=n.useState([{name:"Llama-3.2-1B-Instruct-Q4_0.gguf",size:"1.2 GB",status:"loaded",path:"/bot-mt5/models/gpt4all/",type:"GPT4All"},{name:"Llama-3.2-3B-Instruct-Q4_0.gguf",size:"2.8 GB",status:"loaded",path:"/bot-mt5/models/gpt4all/",type:"GPT4All"},{name:"Nous-Hermes-2-Mistral-7B-DPO.Q4_0.gguf",size:"4.1 GB",status:"loaded",path:"/bot-mt5/models/gpt4all/",type:"GPT4All"},{name:"orca-mini-3b-gguf2-q4_0.gguf",size:"1.9 GB",status:"unloaded",path:"/bot-mt5/models/gpt4all/",type:"GPT4All"},{name:"Phi-3-mini-4k-instruct.Q4_0.gguf",size:"2.3 GB",status:"loaded",path:"/bot-mt5/models/gpt4all/",type:"GPT4All"},{name:"qwen2-1_5b-instruct-q4_0.gguf",size:"1.5 GB",status:"loaded",path:"/bot-mt5/models/gpt4all/",type:"GPT4All"}]),[b,h]=n.useState(0),[x,m]=n.useState(!1),f=a=>{g(l=>l.map((d,p)=>p===a?{...d,status:d.status==="loaded"?"unloaded":"loading"}:d)),setTimeout(()=>{g(l=>l.map((d,p)=>p===a?{...d,status:d.status==="loading"?"loaded":"unloaded"}:d))},2e3)},j=()=>{m(!0),h(0);const a=setInterval(()=>{h(l=>l>=100?(clearInterval(a),m(!1),100):l+10)},300)};return e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold gradient-text",children:"Gestor de Modelos AI"}),e.jsxs("button",{onClick:j,disabled:x,className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white rounded-lg text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("i",{className:"ri-upload-cloud-line text-base w-5 h-5 flex items-center justify-center"}),e.jsx("span",{children:"Upload .gguf"})]})]}),x&&e.jsxs("div",{className:"mb-6 p-4 bg-purple-900/20 rounded-lg border border-purple-500/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-white",children:"A fazer upload..."}),e.jsxs("span",{className:"text-sm text-purple-300",children:[b,"%"]})]}),e.jsx("div",{className:"w-full bg-purple-900/50 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 h-2 rounded-full transition-all duration-300",style:{width:`${b}%`}})})]}),e.jsx("div",{className:"space-y-3",children:i.map((a,l)=>e.jsx("div",{className:"bg-purple-900/20 rounded-lg p-4 border border-purple-500/10",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("i",{className:"ri-brain-line text-orange-400 text-xl"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-white",children:a.name}),e.jsx("p",{className:"text-xs text-purple-300 mt-1",children:a.path})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[e.jsxs("span",{className:"text-xs text-purple-300",children:[e.jsx("i",{className:"ri-file-line mr-1"}),a.size]}),e.jsxs("span",{className:"text-xs text-purple-300",children:[e.jsx("i",{className:"ri-price-tag-3-line mr-1"}),a.type]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.status==="loaded"?"bg-green-500/20 text-green-400 border border-green-500/30":a.status==="loading"?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-slate-500/20 text-slate-400 border border-slate-500/30"}`,children:a.status==="loaded"?"Carregado":a.status==="loading"?"A carregar...":"Descarregado"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>f(l),disabled:a.status==="loading",className:`px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap cursor-pointer ${a.status==="loaded"?"bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/30":"bg-green-500/10 hover:bg-green-500/20 text-green-400 border border-green-500/30"} disabled:opacity-50 disabled:cursor-not-allowed`,children:a.status==="loaded"?"Descarregar":a.status==="loading"?"A carregar...":"Carregar"}),e.jsx("button",{className:"w-10 h-10 flex items-center justify-center bg-purple-800/50 hover:bg-purple-700/50 text-purple-200 rounded-lg transition-all cursor-pointer",children:e.jsx("i",{className:"ri-more-2-fill text-base"})})]})]})},l))}),e.jsx("div",{className:"mt-6 pt-6 border-t border-purple-500/20",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:i.length}),e.jsx("p",{className:"text-xs text-purple-300 mt-1",children:"Total Modelos"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-400",children:i.filter(a=>a.status==="loaded").length}),e.jsx("p",{className:"text-xs text-purple-300 mt-1",children:"Carregados"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-orange-400",children:"13.8 GB"}),e.jsx("p",{className:"text-xs text-purple-300 mt-1",children:"EspaÃ§o Usado"})]})]})})]})}function K(){const[i,g]=n.useState([{name:"Strategies",path:"/bot-mt5/strategies/",description:"DiretÃ³rio de estratÃ©gias de trading",icon:"ri-lightbulb-line"},{name:"Models",path:"/bot-mt5/models/gpt4all/",description:"Modelos AI (.gguf)",icon:"ri-brain-line"},{name:"Core",path:"/bot-mt5/core/",description:"MÃ³dulos principais do sistema",icon:"ri-code-box-line"},{name:"Dashboard",path:"/bot-mt5/dashboard/",description:"Ficheiros do dashboard",icon:"ri-dashboard-line"},{name:"Logs",path:"/bot-mt5/logs/",description:"Logs do sistema",icon:"ri-file-list-line"}]),[b,h]=n.useState(null),[x,m]=n.useState(""),f=l=>{h(l),m(i[l].path)},j=l=>{g(d=>d.map((p,w)=>w===l?{...p,path:x}:p)),h(null)},a=()=>{h(null),m("")};return e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold gradient-text",children:"ConfiguraÃ§Ã£o de Caminhos"}),e.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white rounded-lg text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap cursor-pointer",children:[e.jsx("i",{className:"ri-add-line text-base w-5 h-5 flex items-center justify-center"}),e.jsx("span",{children:"Adicionar"})]})]}),e.jsx("div",{className:"space-y-4",children:i.map((l,d)=>e.jsx("div",{className:"bg-purple-900/20 rounded-lg p-4 border border-purple-500/10",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center flex-shrink-0",children:e.jsx("i",{className:`${l.icon} text-white text-xl`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:l.name}),e.jsx("p",{className:"text-xs text-purple-300 mb-3",children:l.description}),b===d?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x,onChange:p=>m(p.target.value),className:"flex-1 px-3 py-2 bg-purple-900/50 border border-purple-500/30 rounded-lg text-white text-sm font-mono focus:outline-none focus:ring-2 focus:ring-orange-500"}),e.jsx("button",{onClick:()=>j(d),className:"px-4 py-2 bg-green-500/10 hover:bg-green-500/20 text-green-400 rounded-lg text-sm font-medium transition-all border border-green-500/30 whitespace-nowrap cursor-pointer",children:e.jsx("i",{className:"ri-check-line"})}),e.jsx("button",{onClick:a,className:"px-4 py-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg text-sm font-medium transition-all border border-red-500/30 whitespace-nowrap cursor-pointer",children:e.jsx("i",{className:"ri-close-line"})})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("code",{className:"text-xs text-cyan-400 bg-black/30 px-3 py-1.5 rounded border border-purple-500/20 font-mono",children:l.path}),e.jsxs("button",{onClick:()=>f(d),className:"px-3 py-1.5 bg-purple-800/50 hover:bg-purple-700/50 text-purple-200 rounded-lg text-sm transition-all whitespace-nowrap cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-1"}),"Editar"]})]})]})]})},d))}),e.jsx("div",{className:"mt-6 pt-6 border-t border-purple-500/20",children:e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-orange-500/10 rounded-lg border border-orange-500/30",children:[e.jsx("i",{className:"ri-information-line text-orange-400 text-xl mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-orange-400 font-medium mb-1",children:"AtenÃ§Ã£o"}),e.jsx("p",{className:"text-xs text-orange-300",children:"Alterar caminhos requer reiniciar o AI Manager e o Trading Bot para aplicar as mudanÃ§as."})]})]})}),e.jsxs("div",{className:"mt-4 flex gap-3",children:[e.jsx("button",{className:"flex-1 px-6 py-2 bg-purple-800/50 hover:bg-purple-700/50 text-purple-200 rounded-lg text-sm font-medium transition-all whitespace-nowrap cursor-pointer",children:"Cancelar"}),e.jsx("button",{className:"flex-1 px-6 py-2 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white rounded-lg text-sm font-medium transition-all shadow-lg shadow-orange-500/30 whitespace-nowrap cursor-pointer",children:"Guardar e Reiniciar"})]})]})}function Z(){const[i,g]=n.useState("files"),[b,h]=n.useState(!0);return n.useEffect(()=>{const x=async()=>{const f=await D();h(f)};x();const m=setInterval(x,3e4);return()=>clearInterval(m)},[]),b?e.jsxs("div",{className:"space-y-6 animate-slide-up",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Gestor de Ficheiros"}),e.jsx("p",{className:"text-sm text-purple-300 mt-1",children:"Gerir ficheiros, modelos AI e configuraÃ§Ãµes de caminhos"})]})}),e.jsx("div",{className:"card p-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>g("files"),className:`flex-1 px-4 py-3 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-2 whitespace-nowrap cursor-pointer ${i==="files"?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg":"text-purple-200 hover:bg-purple-800/50"}`,children:[e.jsx("i",{className:"ri-folder-line text-base w-5 h-5 flex items-center justify-center"}),e.jsx("span",{children:"Explorador"})]}),e.jsxs("button",{onClick:()=>g("models"),className:`flex-1 px-4 py-3 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-2 whitespace-nowrap cursor-pointer ${i==="models"?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg":"text-purple-200 hover:bg-purple-800/50"}`,children:[e.jsx("i",{className:"ri-brain-line text-base w-5 h-5 flex items-center justify-center"}),e.jsx("span",{children:"Modelos AI"})]}),e.jsxs("button",{onClick:()=>g("paths"),className:`flex-1 px-4 py-3 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-2 whitespace-nowrap cursor-pointer ${i==="paths"?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg":"text-purple-200 hover:bg-purple-800/50"}`,children:[e.jsx("i",{className:"ri-settings-3-line text-base w-5 h-5 flex items-center justify-center"}),e.jsx("span",{children:"Caminhos"})]})]})}),i==="files"&&e.jsx(H,{}),i==="models"&&e.jsx(Q,{}),i==="paths"&&e.jsx(K,{})]}):e.jsx("div",{className:"space-y-6 animate-slide-up",children:e.jsxs("div",{className:"card p-8 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"ri-server-line text-4xl text-red-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Backend Offline"}),e.jsx("p",{className:"text-purple-300 mb-6",children:"O servidor backend nÃ£o estÃ¡ acessÃ­vel. Inicie o dashboard_server.py:"}),e.jsxs("div",{className:"bg-black/30 rounded-lg p-4 font-mono text-sm text-left text-green-400 mb-6 max-w-2xl mx-auto",children:[e.jsx("div",{children:"cd C:\\bot-mt5"}),e.jsx("div",{children:"python -m backend.dashboard_server"})]}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg hover:from-orange-600 hover:to-red-600 transition",children:[e.jsx("i",{className:"ri-refresh-line mr-2"}),"Tentar Novamente"]})]})})}export{Z as default};
