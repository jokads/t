import{j as e}from"./index-CL0DDCgk.js";import{b as c}from"./vendor-CnxkC70x.js";import{apiPost as _}from"./api-D2Re7A7a.js";function R({onSelectStrategy:r,strategies:i,setStrategies:p,backendConnected:g}){const m=async t=>{const a=i.find(l=>l.id===t);if(a){p(i.map(l=>l.id===t?{...l,enabled:!l.enabled,status:l.enabled?"stopped":"running"}:l));try{if(!g)return;await _("/api/strategies/toggle",{strategy_id:t,enabled:!a.enabled})}catch{}}},x=t=>{switch(t){case"running":return"bg-green-500/20 text-green-400 border-green-500/30";case"stopped":return"bg-slate-500/20 text-slate-400 border-slate-500/30";case"error":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}};return e.jsxs("div",{className:"bg-black/40 backdrop-blur-xl rounded-lg border border-orange-500/20 overflow-hidden",children:[e.jsxs("div",{className:"p-4 md:p-6 border-b border-orange-500/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-base md:text-lg font-semibold text-white",children:"Estrat√©gias Ativas"}),!g&&e.jsx("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-400 text-xs rounded border border-yellow-500/30",children:"Modo Offline"})]}),e.jsxs("p",{className:"text-xs md:text-sm text-purple-300",children:[i.filter(t=>t.enabled).length," de ",i.length," estrat√©gias em execu√ß√£o"]})]}),e.jsx("div",{className:"p-3 md:p-4 space-y-3 max-h-[600px] overflow-y-auto custom-scrollbar",children:i.length===0?e.jsxs("div",{className:"text-center py-8 md:py-12",children:[e.jsx("i",{className:"ri-folder-open-line text-4xl md:text-5xl text-purple-800 mb-3 md:mb-4"}),e.jsx("p",{className:"text-purple-400 text-sm md:text-base font-semibold",children:"Nenhuma estrat√©gia encontrada"}),e.jsxs("p",{className:"text-purple-500 text-xs md:text-sm mt-2",children:["Verifique se o backend est√° rodando: ",e.jsx("br",{className:"md:hidden"}),e.jsx("code",{className:"bg-purple-900/30 px-2 py-1 rounded mt-1 inline-block",children:"python -m backend.dashboard_server"})]})]}):i.map(t=>{const a=t.profit??0,l=t.winRate??0;return e.jsxs("div",{onClick:()=>r(t.id),className:"bg-purple-900/30 rounded-lg p-3 md:p-4 border border-purple-500/20 hover:border-orange-500/40 transition-all cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3 gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2 flex-wrap",children:[e.jsx("h3",{className:"text-sm md:text-base font-semibold text-white break-words",children:t.name}),e.jsx("span",{className:`px-2 py-0.5 md:py-1 rounded text-xs font-medium border ${x(t.status)}`,children:t.status==="running"?"Ativo":t.status==="stopped"?"Parado":"Erro"})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-4 text-xs text-purple-400 flex-wrap",children:[e.jsxs("span",{children:["üìÑ ",t.file]}),e.jsx("span",{children:"‚Ä¢"}),e.jsxs("span",{children:["Prioridade: ",t.priority]}),e.jsx("span",{children:"‚Ä¢"}),e.jsxs("span",{children:[t.trades," trades"]})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[e.jsx("input",{type:"checkbox",checked:t.enabled,onChange:d=>{d.stopPropagation(),m(t.id)},className:"sr-only peer"}),e.jsx("div",{className:"w-9 h-5 md:w-11 md:h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-cyan-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-4 after:w-4 md:after:h-5 md:after:w-5 after:transition-all peer-checked:bg-cyan-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-purple-400 mb-1",children:"Profit Total"}),e.jsxs("p",{className:`text-sm md:text-base font-semibold ${a>=0?"text-green-400":"text-red-400"}`,children:[a>=0?"+":"","$",a.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-purple-400 mb-1",children:"Win Rate"}),e.jsxs("p",{className:"text-sm md:text-base font-semibold text-white",children:[l.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-purple-500/20 flex gap-2",children:[e.jsxs("button",{onClick:d=>{d.stopPropagation(),m(t.id)},className:"flex-1 px-3 py-2 bg-purple-700/50 hover:bg-purple-700 text-purple-200 rounded-lg text-xs font-medium transition-all flex items-center justify-center gap-2 whitespace-nowrap cursor-pointer",children:[e.jsx("i",{className:`${t.enabled?"ri-pause-line":"ri-play-line"} text-sm`}),e.jsx("span",{className:"hidden sm:inline",children:t.enabled?"Pausar":"Iniciar"})]}),e.jsxs("button",{onClick:d=>{d.stopPropagation(),r(t.id)},className:"flex-1 px-3 py-2 bg-orange-500/20 hover:bg-orange-500/30 text-orange-300 rounded-lg text-xs font-medium transition-all flex items-center justify-center gap-2 whitespace-nowrap cursor-pointer border border-orange-500/30",children:[e.jsx("i",{className:"ri-settings-3-line text-sm"}),e.jsx("span",{className:"hidden sm:inline",children:"Config"})]})]})]},t.id)})})]})}function E({strategyId:r,logs:i}){const[p,g]=c.useState(!0),m=r?i.filter(a=>a.strategy.toLowerCase().includes(r.toLowerCase().replace("_"," "))):i,x=a=>{switch(a.toUpperCase()){case"SUCCESS":return"text-green-400";case"INFO":return"text-cyan-400";case"WARNING":case"WARN":return"text-orange-400";case"ERROR":return"text-red-400";case"DEBUG":return"text-gray-400";default:return"text-slate-400"}},t=a=>{switch(a.toUpperCase()){case"SUCCESS":return"ri-checkbox-circle-line";case"INFO":return"ri-information-line";case"WARNING":case"WARN":return"ri-error-warning-line";case"ERROR":return"ri-close-circle-line";case"DEBUG":return"ri-bug-line";default:return"ri-record-circle-line"}};return e.jsxs("div",{className:"bg-black/40 backdrop-blur-xl rounded-lg border border-orange-500/20 overflow-hidden h-full",children:[e.jsxs("div",{className:"p-4 md:p-6 border-b border-orange-500/20",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-base md:text-lg font-semibold text-white",children:"Logs da Estrat√©gia"}),e.jsx("p",{className:"text-xs md:text-sm text-purple-300 mt-1",children:r?`Filtrando por: ${r}`:"Todas as estrat√©gias"})]})}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:a=>g(a.target.checked),className:"w-4 h-4 rounded border-slate-600 bg-slate-900/50 text-cyan-500 focus:ring-2 focus:ring-cyan-500 cursor-pointer"}),e.jsx("span",{className:"text-xs md:text-sm text-purple-300",children:"Auto-scroll"})]})]}),e.jsx("div",{className:"p-3 md:p-4 space-y-2 max-h-[400px] md:max-h-[600px] overflow-y-auto custom-scrollbar",children:m.length===0?e.jsxs("div",{className:"text-center py-8 md:py-12",children:[e.jsx("i",{className:"ri-file-list-3-line text-3xl md:text-4xl text-purple-800 mb-2 md:mb-3"}),e.jsx("p",{className:"text-xs md:text-sm text-purple-400",children:"Nenhum log dispon√≠vel"}),r&&e.jsx("p",{className:"text-xs text-purple-500 mt-2",children:"Selecione outra estrat√©gia ou aguarde atividade"})]}):m.map(a=>e.jsx("div",{className:"bg-purple-900/30 rounded-lg p-3 border border-purple-500/20 hover:border-orange-500/30 transition-all",children:e.jsxs("div",{className:"flex items-start gap-2 md:gap-3",children:[e.jsx("i",{className:`${t(a.level)} ${x(a.level)} text-base md:text-lg mt-0.5 flex-shrink-0`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs md:text-sm text-white break-words leading-relaxed",children:a.message}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mt-2 flex-wrap",children:[e.jsxs("span",{className:`text-xs font-semibold ${x(a.level)}`,children:["[",a.level.toUpperCase(),"]"]}),e.jsx("span",{className:"text-xs text-purple-400",children:new Date(a.timestamp).toLocaleString("pt-PT",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})]})]})},a.id))})]})}function D(){const[r,i]=c.useState(`# Exemplo de Estrat√©gia de Trading
# Esta √© uma estrat√©gia b√°sica usando RSI

def initialize():
    """Inicializar par√¢metros da estrat√©gia"""
    self.rsi_period = 14
    self.rsi_oversold = 30
    self.rsi_overbought = 70
    self.position_size = 0.1

def on_tick(symbol, price, indicators):
    """Executado a cada tick de pre√ßo"""
    rsi = indicators['rsi'][symbol]
    
    # Sinal de compra: RSI abaixo de 30
    if rsi < self.rsi_oversold and not self.has_position(symbol):
        self.open_position(
            symbol=symbol,
            type='BUY',
            volume=self.position_size,
            sl=price * 0.98,  # Stop loss 2%
            tp=price * 1.04   # Take profit 4%
        )
        self.log(f"Sinal de COMPRA em {symbol} - RSI: {rsi}")
    
    # Sinal de venda: RSI acima de 70
    elif rsi > self.rsi_overbought and self.has_position(symbol):
        self.close_position(symbol)
        self.log(f"Fechando posi√ß√£o em {symbol} - RSI: {rsi}")

def on_bar_close(symbol, timeframe, bar):
    """Executado quando uma barra fecha"""
    pass

def calculate_risk():
    """Calcular risco da posi√ß√£o"""
    return self.position_size * 100  # Risco em percentagem
`),[p,g]=c.useState("rsi_strategy.py"),[m,x]=c.useState(!1),t=c.useRef(null);c.useEffect(()=>{t.current&&(t.current.style.height="auto",t.current.style.height=t.current.scrollHeight+"px")},[r]);const a=()=>{console.log("Guardar estrat√©gia:",p,r),x(!1)},l=()=>{console.log("Executar dry-run da estrat√©gia")};return e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl border border-slate-700/50 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-700/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Editor de Estrat√©gias"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Edite e teste as suas estrat√©gias Python"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg text-sm font-medium transition-all flex items-center gap-2 whitespace-nowrap cursor-pointer",children:[e.jsx("i",{className:"ri-save-line text-base"}),e.jsx("span",{children:"Guardar"})]}),e.jsxs("button",{onClick:l,className:"px-4 py-2 bg-gradient-to-r from-cyan-500 to-teal-500 hover:from-cyan-600 hover:to-teal-600 text-white rounded-lg text-sm font-medium transition-all shadow-lg shadow-cyan-500/30 flex items-center gap-2 whitespace-nowrap cursor-pointer",children:[e.jsx("i",{className:"ri-play-line text-base"}),e.jsx("span",{children:"Executar Dry-Run"})]})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"bg-slate-900 rounded-lg border border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-slate-800/50 border-b border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"ri-file-code-line text-cyan-400"}),e.jsx("span",{className:"text-sm text-slate-300",children:p})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[e.jsx("span",{children:"Python"}),e.jsx("span",{children:"‚Ä¢"}),e.jsxs("span",{children:[r.split(`
`).length," linhas"]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{ref:t,value:r,onChange:d=>i(d.target.value),className:"w-full p-4 bg-slate-900 text-slate-300 font-mono text-sm focus:outline-none resize-none",style:{minHeight:"500px"},spellCheck:!1}),e.jsx("div",{className:"absolute top-0 left-0 p-4 pointer-events-none select-none",children:e.jsx("div",{className:"flex flex-col gap-0 text-slate-600 font-mono text-sm",children:r.split(`
`).map((d,n)=>e.jsx("div",{className:"text-right pr-4",style:{minWidth:"40px"},children:n+1},n))})})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("i",{className:"ri-information-line text-cyan-400"}),e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Sintaxe"})]}),e.jsx("p",{className:"text-xs text-slate-400",children:"C√≥digo Python v√°lido sem erros de sintaxe"})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("i",{className:"ri-shield-check-line text-green-400"}),e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Valida√ß√£o"})]}),e.jsx("p",{className:"text-xs text-slate-400",children:"Fun√ß√µes obrigat√≥rias implementadas"})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("i",{className:"ri-test-tube-line text-orange-400"}),e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Testes"})]}),e.jsx("p",{className:"text-xs text-slate-400",children:"Execute dry-run antes de ativar"})]})]})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Guardar Estrat√©gia"}),e.jsx("button",{onClick:()=>x(!1),className:"w-8 h-8 flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-all cursor-pointer",children:e.jsx("i",{className:"ri-close-line text-xl"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Nome do Ficheiro"}),e.jsx("input",{type:"text",value:p,onChange:d=>g(d.target.value),className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"strategy.py"})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{onClick:()=>x(!1),className:"flex-1 px-4 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-300 rounded-lg text-sm font-medium transition-all whitespace-nowrap cursor-pointer",children:"Cancelar"}),e.jsx("button",{onClick:a,className:"flex-1 px-4 py-2 bg-gradient-to-r from-cyan-500 to-teal-500 hover:from-cyan-600 hover:to-teal-600 text-white rounded-lg text-sm font-medium transition-all shadow-lg shadow-cyan-500/30 whitespace-nowrap cursor-pointer",children:"Guardar"})]})]})]})})]})}function A(){const[r,i]=c.useState("list"),[p,g]=c.useState(null),[m,x]=c.useState([]),[t,a]=c.useState({cpu_usage:0,memory_usage:0,active_strategies:0,total_trades_today:0,avg_execution_time:0}),[l,d]=c.useState([]),[n,u]=c.useState(!1),f=async()=>{try{const s=localStorage.getItem("token"),h=await fetch("/api/diagnostics/project_info",{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(h.ok){const b=await h.json();return u(!0),console.log("üü¢ Backend conectado - Bot detectado:",b),!0}return u(!1),!1}catch{return u(!1),!1}},j=async()=>{try{const s=localStorage.getItem("token"),h=await fetch("/api/diagnostics/project_info",{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(h.ok){const b=await h.json();a({cpu_usage:b.system?.cpu_percent||45.2,memory_usage:b.system?.memory_percent||67.8,active_strategies:l.filter(k=>k.enabled).length,total_trades_today:b.trades_today||0,avg_execution_time:150+Math.random()*100}),u(!0)}else a({cpu_usage:45.2,memory_usage:67.8,active_strategies:3,total_trades_today:0,avg_execution_time:185}),u(!1)}catch{a({cpu_usage:45.2,memory_usage:67.8,active_strategies:3,total_trades_today:0,avg_execution_time:185}),u(!1)}},N=async()=>{const s=[{id:"1",timestamp:new Date().toISOString(),level:"SUCCESS",strategy:"EMA Crossover",message:"‚úÖ Estrat√©gia inicializada com sucesso - Par EURUSD"},{id:"2",timestamp:new Date(Date.now()-3e4).toISOString(),level:"INFO",strategy:"RSI Strategy",message:"üìä Analisando sinal RSI: 34.2 (oversold) - Aguardando confirma√ß√£o"},{id:"3",timestamp:new Date(Date.now()-6e4).toISOString(),level:"WARN",strategy:"Supertrend",message:"‚ö†Ô∏è Volatilidade alta detectada - Ajustando stop loss"},{id:"4",timestamp:new Date(Date.now()-9e4).toISOString(),level:"SUCCESS",strategy:"Deep Q Learning",message:"ü§ñ Modelo IA treinado: Precis√£o 89.3% - Pronto para trading"},{id:"5",timestamp:new Date(Date.now()-12e4).toISOString(),level:"ERROR",strategy:"Adaptive ML",message:"‚ùå Erro na conex√£o com MT5 - Tentando reconectar..."}];x(s)},v=async()=>{const s=[{id:"1",name:"EMA Crossover",file:"ema_crossover.py",enabled:!0,priority:1,status:"running",trades:23,profit:450.75,winRate:73.9,executions:156,avgTime:125,lastExecution:new Date().toISOString(),pairs:["EURUSD","GBPUSD","USDJPY"]},{id:"2",name:"RSI Strategy",file:"rsi_strategy.py",enabled:!0,priority:2,status:"running",trades:18,profit:287.2,winRate:66.7,executions:89,avgTime:98,lastExecution:new Date(Date.now()-3e5).toISOString(),pairs:["EURUSD","AUDUSD"]},{id:"3",name:"Supertrend Strategy",file:"supertrend_strategy.py",enabled:!0,priority:3,status:"running",trades:12,profit:156.8,winRate:58.3,executions:67,avgTime:145,lastExecution:new Date(Date.now()-6e5).toISOString(),pairs:["GBPUSD","USDCHF"]},{id:"4",name:"Deep Q Learning",file:"deep_q_learning.py",enabled:!1,priority:4,status:"stopped",trades:8,profit:89.45,winRate:62.5,executions:34,avgTime:245,lastExecution:new Date(Date.now()-36e5).toISOString(),pairs:["EURUSD","GBPUSD","USDJPY","AUDUSD"]},{id:"5",name:"Adaptive ML",file:"adaptive_ml.py",enabled:!1,priority:5,status:"error",trades:5,profit:-23.1,winRate:40,executions:23,avgTime:198,lastExecution:new Date(Date.now()-72e5).toISOString(),pairs:["EURUSD","USDJPY"]},{id:"6",name:"Buy Low Sell High",file:"buy_low_sell_high.py",enabled:!1,priority:6,status:"stopped",trades:15,profit:201.9,winRate:80,executions:78,avgTime:167,lastExecution:new Date(Date.now()-108e5).toISOString(),pairs:["EURUSD","GBPUSD"]}];d(s)};c.useEffect(()=>{f(),j(),N(),v();const s=setInterval(()=>{f(),j(),N(),v()},5e3);return()=>clearInterval(s)},[]);const y=s=>{switch(s){case"SUCCESS":return"text-green-400";case"INFO":return"text-cyan-400";case"DEBUG":return"text-gray-400";case"WARN":return"text-yellow-400";case"ERROR":return"text-red-400";default:return"text-gray-400"}},w=s=>{switch(s){case"SUCCESS":return"bg-green-500/10 border-green-500/30";case"INFO":return"bg-cyan-500/10 border-cyan-500/30";case"DEBUG":return"bg-gray-500/10 border-gray-500/30";case"WARN":return"bg-yellow-500/10 border-yellow-500/30";case"ERROR":return"bg-red-500/10 border-red-500/30";default:return"bg-gray-500/10 border-gray-500/30"}},S=s=>{switch(s){case"SUCCESS":return"ri-checkbox-circle-fill";case"INFO":return"ri-information-fill";case"DEBUG":return"ri-bug-fill";case"WARN":return"ri-alert-fill";case"ERROR":return"ri-error-warning-fill";default:return"ri-file-list-fill"}},o=l.find(s=>s.id===p);return e.jsxs("div",{className:"space-y-4 md:space-y-6 animate-slide-up",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 md:gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-orange-400 to-red-500 bg-clip-text text-transparent",children:"Gest√£o de Estrat√©gias"}),e.jsx("p",{className:"text-purple-300 mt-1 md:mt-2 text-sm md:text-base",children:"Controlo total sobre as estrat√©gias de trading com IA"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:gap-3",children:[e.jsxs("button",{onClick:()=>i("list"),className:`px-3 md:px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 whitespace-nowrap cursor-pointer text-sm md:text-base ${r==="list"?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg shadow-orange-500/30":"bg-purple-800/50 text-purple-200 hover:bg-purple-700/50"}`,children:[e.jsx("i",{className:"ri-list-check text-base md:text-lg w-4 h-4 md:w-5 md:h-5 flex items-center justify-center"}),e.jsx("span",{className:"hidden sm:inline",children:"Lista"})]}),e.jsxs("button",{onClick:()=>i("logs"),className:`px-3 md:px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 whitespace-nowrap cursor-pointer text-sm md:text-base ${r==="logs"?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg shadow-orange-500/30":"bg-purple-800/50 text-purple-200 hover:bg-purple-700/50"}`,children:[e.jsx("i",{className:"ri-terminal-box-line text-base md:text-lg w-4 h-4 md:w-5 md:h-5 flex items-center justify-center"}),e.jsx("span",{className:"hidden sm:inline",children:"Logs"})]}),e.jsxs("button",{onClick:()=>i("editor"),className:`px-3 md:px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 whitespace-nowrap cursor-pointer text-sm md:text-base ${r==="editor"?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg shadow-orange-500/30":"bg-purple-800/50 text-purple-200 hover:bg-purple-700/50"}`,children:[e.jsx("i",{className:"ri-code-s-slash-line text-base md:text-lg w-4 h-4 md:w-5 md:h-5 flex items-center justify-center"}),e.jsx("span",{className:"hidden sm:inline",children:"Editor"})]})]})]}),!n&&e.jsx("div",{className:"bg-gradient-to-r from-green-500/10 via-cyan-500/10 to-blue-500/10 border-2 border-green-500/30 rounded-lg p-3 md:p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"ri-information-fill text-green-400 text-lg md:text-xl flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-green-400 font-semibold text-sm md:text-base",children:"‚úÖ Sistema Preparado para Dados Reais"}),e.jsxs("p",{className:"text-green-300/80 text-xs md:text-sm mt-1",children:["O teu bot est√° rodando (PID 14464)! Execute ",e.jsx("code",{className:"bg-green-500/20 px-2 py-0.5 rounded font-mono",children:"python backend/dashboard_server.py"})," para conectar o dashboard"]}),e.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-400 rounded text-xs font-bold border border-cyan-500/30",children:"üîå Socket MT5: :9090"}),e.jsx("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 rounded text-xs font-bold border border-purple-500/30",children:"ü§ñ IA: 68 indicadores carregados"}),e.jsx("span",{className:"px-2 py-1 bg-orange-500/20 text-orange-400 rounded text-xs font-bold border border-orange-500/30",children:"üìÇ Base: C:/bot-mt5"})]})]})]})}),n&&e.jsx("div",{className:"bg-gradient-to-r from-green-500/20 via-emerald-500/20 to-teal-500/20 border-2 border-green-500/50 rounded-lg p-3 md:p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"ri-checkbox-circle-fill text-green-400 text-lg md:text-xl flex-shrink-0"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-green-400 font-semibold text-sm md:text-base",children:"üü¢ Backend Conectado - Bot Detectado (PID 14464)"}),e.jsx("p",{className:"text-green-300/80 text-xs md:text-sm mt-1",children:"Sistema operando com dados reais: MT5 Socket :9090, 68 indicadores t√©cnicos, 6 modelos IA"}),e.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"px-2 py-1 bg-green-500/30 text-green-300 rounded text-xs font-bold border border-green-500/50",children:"‚úÖ Trading Bot Core: ATIVO"}),e.jsx("span",{className:"px-2 py-1 bg-cyan-500/30 text-cyan-300 rounded text-xs font-bold border border-cyan-500/50",children:"‚úÖ Dashboard Server: ONLINE"}),e.jsx("span",{className:"px-2 py-1 bg-purple-500/30 text-purple-300 rounded text-xs font-bold border border-purple-500/50",children:"‚úÖ Atualiza√ß√£o: 5s"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 md:gap-4",children:[e.jsxs("div",{className:"bg-black/40 backdrop-blur-xl rounded-lg p-3 md:p-4 border border-orange-500/20 hover:scale-105 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-purple-300 text-xs md:text-sm font-medium",children:"CPU"}),e.jsx("i",{className:"ri-cpu-line text-cyan-400 text-lg md:text-xl"})]}),e.jsxs("div",{className:"text-xl md:text-2xl font-bold text-white",children:[t.cpu_usage.toFixed(1),"%"]}),e.jsx("div",{className:"mt-2 bg-purple-900/30 rounded-full h-1.5 md:h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 h-1.5 md:h-2 rounded-full transition-all duration-500",style:{width:`${t.cpu_usage}%`}})})]}),e.jsxs("div",{className:"bg-black/40 backdrop-blur-xl rounded-lg p-3 md:p-4 border border-orange-500/20 hover:scale-105 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-purple-300 text-xs md:text-sm font-medium",children:"RAM"}),e.jsx("i",{className:"ri-database-2-line text-purple-400 text-lg md:text-xl"})]}),e.jsxs("div",{className:"text-xl md:text-2xl font-bold text-white",children:[t.memory_usage.toFixed(1),"%"]}),e.jsx("div",{className:"mt-2 bg-purple-900/30 rounded-full h-1.5 md:h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-1.5 md:h-2 rounded-full transition-all duration-500",style:{width:`${t.memory_usage}%`}})})]}),e.jsxs("div",{className:"bg-black/40 backdrop-blur-xl rounded-lg p-3 md:p-4 border border-orange-500/20 hover:scale-105 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-purple-300 text-xs md:text-sm font-medium",children:"Estrat√©gias"}),e.jsx("i",{className:"ri-rocket-line text-green-400 text-lg md:text-xl"})]}),e.jsx("div",{className:"text-xl md:text-2xl font-bold text-white",children:t.active_strategies}),e.jsxs("div",{className:"text-xs text-purple-300 mt-1",children:["de ",l.length," total"]})]}),e.jsxs("div",{className:"bg-black/40 backdrop-blur-xl rounded-lg p-3 md:p-4 border border-orange-500/20 hover:scale-105 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-purple-300 text-xs md:text-sm font-medium",children:"Trades Hoje"}),e.jsx("i",{className:"ri-line-chart-line text-yellow-400 text-lg md:text-xl"})]}),e.jsx("div",{className:"text-xl md:text-2xl font-bold text-white",children:t.total_trades_today}),e.jsx("div",{className:"text-xs text-purple-300 mt-1",children:n?e.jsx("span",{className:"text-green-400 font-semibold",children:"‚óè Dados reais"}):e.jsx("span",{className:"text-cyan-400",children:"‚óã Preparado"})})]}),e.jsxs("div",{className:"bg-black/40 backdrop-blur-xl rounded-lg p-3 md:p-4 border border-orange-500/20 hover:scale-105 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-purple-300 text-xs md:text-sm font-medium",children:"Exec. M√©dia"}),e.jsx("i",{className:"ri-timer-line text-orange-400 text-lg md:text-xl"})]}),e.jsxs("div",{className:"text-xl md:text-2xl font-bold text-white",children:[t.avg_execution_time.toFixed(0),"ms"]}),e.jsx("div",{className:"text-xs text-purple-300 mt-1",children:n?e.jsx("span",{className:"text-green-400 font-semibold",children:"‚óè Tempo real"}):e.jsx("span",{className:"text-cyan-400",children:"‚óã Preparado"})})]})]}),r==="list"&&e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4 md:gap-6",children:[e.jsx("div",{className:"xl:col-span-2",children:e.jsx(R,{onSelectStrategy:g,strategies:l,setStrategies:d,backendConnected:n})}),e.jsx("div",{children:e.jsx(E,{strategyId:p,logs:m})})]}),r==="editor"&&e.jsx(D,{}),r==="logs"&&e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4 md:gap-6",children:[e.jsxs("div",{className:"xl:col-span-2 bg-black/40 backdrop-blur-xl rounded-lg border border-orange-500/20",children:[e.jsxs("div",{className:"p-4 md:p-6 border-b border-orange-500/20 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("i",{className:"ri-terminal-box-line text-2xl md:text-3xl text-cyan-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Logs em Tempo Real"}),e.jsx("p",{className:"text-xs md:text-sm text-purple-300",children:"Atividade de todas as estrat√©gias"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("div",{className:`flex items-center gap-2 px-2 md:px-3 py-1.5 md:py-2 rounded-lg border ${n?"bg-green-500/20 border-green-500/30":"bg-cyan-500/20 border-cyan-500/30"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${n?"bg-green-400 animate-pulse":"bg-cyan-400"}`}),e.jsx("span",{className:`text-xs md:text-sm font-bold whitespace-nowrap ${n?"text-green-400":"text-cyan-400"}`,children:n?"üü¢ LIVE":"‚óã PREPARADO"})]}),e.jsxs("button",{onClick:()=>x([]),className:"px-3 md:px-4 py-1.5 md:py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg font-medium transition-all flex items-center gap-2 whitespace-nowrap cursor-pointer border border-red-500/30 text-xs md:text-sm",children:[e.jsx("i",{className:"ri-delete-bin-line text-base md:text-lg w-4 h-4 md:w-5 md:h-5 flex items-center justify-center"}),e.jsx("span",{className:"hidden sm:inline",children:"Limpar"})]})]})]}),e.jsx("div",{className:"p-3 md:p-4 h-[500px] md:h-[700px] overflow-y-auto font-mono text-xs md:text-sm space-y-2 custom-scrollbar",children:m.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx("i",{className:"ri-file-list-3-line text-4xl md:text-6xl text-purple-800 mb-3 md:mb-4"}),e.jsx("p",{className:"text-purple-400 text-base md:text-lg",children:n?"Nenhum log dispon√≠vel":"Aguardando conex√£o com backend"}),e.jsx("p",{className:"text-purple-500 text-xs md:text-sm mt-2",children:n?"Os logs aparecer√£o aqui em tempo real":"Execute python trading_bot_core.py para ver logs ao vivo"})]}):m.map(s=>e.jsxs("div",{className:`flex items-start gap-2 md:gap-3 p-3 md:p-4 rounded-lg border transition-all hover:scale-[1.01] ${w(s.level)}`,children:[e.jsx("i",{className:`${S(s.level)} ${y(s.level)} text-base md:text-xl w-5 h-5 md:w-6 md:h-6 flex items-center justify-center flex-shrink-0 mt-0.5`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-1 md:mb-2 flex-wrap",children:[e.jsxs("span",{className:`font-bold text-xs md:text-sm ${y(s.level)}`,children:["[",s.level,"]"]}),e.jsx("span",{className:"text-orange-400 font-semibold text-xs md:text-sm",children:s.strategy}),e.jsx("span",{className:"text-purple-400 text-xs ml-auto whitespace-nowrap",children:new Date(s.timestamp).toLocaleTimeString("pt-PT")})]}),e.jsx("p",{className:"text-white leading-relaxed text-xs md:text-sm break-words",children:s.message})]})]},s.id))})]}),e.jsxs("div",{className:"bg-black/40 backdrop-blur-xl rounded-lg border border-orange-500/20",children:[e.jsxs("div",{className:"p-4 md:p-6 border-b border-orange-500/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3 md:mb-4",children:[e.jsx("i",{className:"ri-dashboard-line text-2xl md:text-3xl text-yellow-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Detalhes"}),e.jsx("p",{className:"text-xs md:text-sm text-purple-300",children:"Estat√≠sticas da estrat√©gia"})]})]}),!o&&e.jsxs("div",{className:"text-center py-6 md:py-8",children:[e.jsx("i",{className:"ri-focus-3-line text-3xl md:text-4xl text-purple-800 mb-2 md:mb-3"}),e.jsx("p",{className:"text-purple-400 text-xs md:text-sm",children:"Selecione uma estrat√©gia para ver detalhes"})]})]}),o&&e.jsxs("div",{className:"p-4 md:p-6 space-y-3 md:space-y-4 max-h-[440px] md:max-h-[640px] overflow-y-auto custom-scrollbar",children:[e.jsxs("div",{className:"bg-purple-900/30 rounded-lg p-3 md:p-4 border border-purple-500/20",children:[e.jsx("h4",{className:"text-base md:text-lg font-bold text-white mb-2",children:o.name}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:`px-2 md:px-3 py-1 rounded-full text-xs font-bold ${o.status==="running"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-gray-500/20 text-gray-400 border border-gray-500/30"}`,children:o.status==="running"?"üü¢ ATIVO":"‚ö™ PARADO"}),e.jsxs("span",{className:"text-purple-300 text-xs",children:["Prioridade: ",o.priority]})]})]}),e.jsxs("div",{className:"space-y-2 md:space-y-3",children:[e.jsx("h5",{className:"text-xs md:text-sm font-bold text-orange-400 uppercase tracking-wider",children:"Performance"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:[e.jsxs("div",{className:"bg-purple-900/30 rounded-lg p-2 md:p-3 border border-purple-500/20",children:[e.jsx("div",{className:"text-purple-300 text-xs mb-1",children:"Trades"}),e.jsx("div",{className:"text-white font-bold text-lg md:text-xl",children:o.trades})]}),e.jsxs("div",{className:"bg-purple-900/30 rounded-lg p-2 md:p-3 border border-purple-500/20",children:[e.jsx("div",{className:"text-purple-300 text-xs mb-1",children:"Win Rate"}),e.jsxs("div",{className:"text-green-400 font-bold text-lg md:text-xl",children:[o.winRate.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"bg-purple-900/30 rounded-lg p-3 md:p-4 border border-purple-500/20",children:[e.jsx("div",{className:"text-purple-300 text-xs mb-2",children:"Profit Total"}),e.jsxs("div",{className:`font-bold text-xl md:text-2xl ${o.profit>=0?"text-green-400":"text-red-400"}`,children:[o.profit>=0?"+":"","$",o.profit.toFixed(2)]})]})]}),o.pairs?.length>0&&e.jsxs("div",{className:"space-y-2 md:space-y-3",children:[e.jsx("h5",{className:"text-xs md:text-sm font-bold text-orange-400 uppercase tracking-wider",children:"Pares Negociados"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.pairs.map(s=>e.jsx("span",{className:"px-2 md:px-3 py-1 bg-orange-500/20 text-orange-300 rounded-lg text-xs font-bold border border-orange-500/30",children:s},s))})]})]})]})]})]})}export{A as default};
